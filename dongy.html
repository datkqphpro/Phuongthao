<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr√°i Tim Tr√¥i L∆° L·ª≠ng üíñ</title>
    <style>
        /* CSS cho hi·ªáu ·ª©ng tr√°i tim (GI·ªÆ NGUY√äN) */
        body {
            margin: 0;
            overflow: hidden; 
            background-color: #000;
            min-height: 100vh;
        }

        .heart {
            position: absolute;
            font-size: 24px;
            color: #ff69b4;
            pointer-events: none;
            user-select: none;
            opacity: 0;
            transform: translateX(-50%); 
        }

        @keyframes float-up {
            0% {
                transform: translateY(0) translateX(-50%) scale(1);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100vh) translateX(var(--float-offset)) scale(1.5); 
                opacity: 0; 
            }
        }

        /* --- CSS CHO H·ªòP THO·∫†I MODAL --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); 
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        .modal-content {
            background-color: #fff;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(255, 105, 180, 0.8);
            max-width: 90%; 
            width: 400px;
            animation: bounceIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative; 
        }
        
        /* Modal Ch√∫c m·ª´ng (Ban ƒë·∫ßu ·∫©n) */
        #successModal {
            z-index: 110;
            display: none; /* Quan tr·ªçng: ·∫®n Modal Ch√∫c m·ª´ng ban ƒë·∫ßu */
        }
        
        #successModal .modal-content {
            background: linear-gradient(135deg, #ffe0f0, #ffc0d0);
            border: 5px solid gold;
        }

        .modal-content h2 {
            color: #ff69b4;
            margin-bottom: 25px;
            font-size: 1.8em;
        }
        .modal-content h3 {
            color: #c90076;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        /* C·∫•u tr√∫c n√∫t */
        .actions {
            margin-top: 15px;
            height: 60px; 
            position: relative; 
        }

        .actions button {
            padding: 15px 30px;
            min-width: 120px;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: absolute; 
            z-index: 10;
        }

        /* N√∫t C√≥ */
        #btnYes {
            background-color: #4CAF50;
            color: white;
            left: 10px; 
            top: 0;
            transition: transform 0.2s;
        }
        #btnYes:hover {
            background-color: #45a049;
            transform: scale(1.05);
        }

        /* N√∫t Kh√¥ng (N√© tr√°nh) */
        #btnNo {
            background-color: #f44336;
            color: white;
            transition: transform 0.15s ease-out; 
            right: 10px; 
            top: 0;
        }
        #btnNo:hover {
            background-color: #da190b;
        }
        
        /* --- HI·ªÜU ·ª®NG PH√ÅO HOA --- */
        .pyro > .before, .pyro > .after{
          position: absolute;
          width: 5px;
          height: 5px;
          border-radius: 50%;
          box-shadow: 0 0 5px 5px pink;
          animation: 1s bang ease-out infinite backwards, 1s gravity ease-in infinite backwards, 5s position linear infinite backwards;
        }

        .pyro > .after{
            animation-delay: 1.25s, 1.25s, 1.25s;
            box-shadow: 0 0 5px 5px #ffd700;
        }

        @keyframes bang {
          to {
            box-shadow: 0 0 0 5px #ff00ff,
                        0 0 0 25px gold,
                        0 0 0 50px pink,
                        0 0 0 75px #fff,
                        0 0 0 100px #ffd700;
          }
        }
        @keyframes gravity {
          to {
            transform: translateY(200px);
            opacity: 0;
          }
        }
        @keyframes position {
          0%, 19.9% { left: 10%; top: 90%; }
          20%, 39.9% { left: 90%; top: 40%; }
          40%, 59.9% { left: 40%; top: 70%; }
          60%, 79.9% { left: 70%; top: 60%; }
          80%, 99.9% { left: 20%; top: 20%; }
        }

        @keyframes bounceIn {
            0% { transform: scale(0.5); opacity: 0; }
            70% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    
    <div id="christmasModal" class="modal-overlay">
        <div class="modal-content">
            <h2>B√© ƒëi ch∆°i Noel v·ªõi anh nha!</h2>
            <div class="actions">
                <button id="btnYes">C√≥</button>
                <button id="btnNo">Kh√¥ng</button>
            </div>
        </div>
    </div>
    
    <div id="successModal" class="modal-overlay">
        <div class="modal-content">
            <h3>Tuy·ªát v·ªùi! Anh bi·∫øt b√© ƒë·ªìng √Ω m√†!</h3>
            <p>Chu·∫©n b·ªã tinh th·∫ßn cho m·ªôt ƒë√™m Noel l√£ng m·∫°n nha b√© y√™u! ü•≥</p>
            <div class="pyro">
                <div class="before"></div>
                <div class="after"></div>
            </div>
            <button id="btnCloseSuccess">OK</button>
        </div>
    </div>
    
    <script>
        const body = document.body;
        const heartCharacters = ['üíñ', '‚ù§Ô∏è', 'üíï', 'üíò', 'üíû']; 
        
        const mainModal = document.getElementById('christmasModal');
        const successModal = document.getElementById('successModal');
        const btnYes = document.getElementById('btnYes');
        const btnNo = document.getElementById('btnNo');
        const btnCloseSuccess = document.getElementById('btnCloseSuccess');
        const modalContent = document.querySelector('#christmasModal .modal-content');

        // H√†m t·∫°o m·ªôt tr√°i tim m·ªõi (GI·ªÆ NGUY√äN)
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            const charIndex = Math.floor(Math.random() * heartCharacters.length);
            heart.innerHTML = heartCharacters[charIndex];
            const startX = Math.random() * window.innerWidth;
            heart.style.left = startX + 'px';
            heart.style.bottom = (Math.random() * 20) + 'px';
            const floatOffset = (Math.random() - 0.5) * 100 + 'px'; 
            heart.style.setProperty('--float-offset', floatOffset);
            const delay = Math.random() * 5; 
            const duration = 8 + Math.random() * 4; 
            heart.style.animation = `float-up ${duration}s ease-out ${delay}s 1 forwards`;
            const size = 18 + Math.random() * 10;
            heart.style.fontSize = size + 'px';
            body.appendChild(heart);
            setTimeout(() => {
                heart.remove();
            }, (duration * 1000) + (delay * 1000));
        }

        setInterval(createHeart, 150); 
        
        /* --- LOGIC X·ª¨ L√ù N√öT B·∫§M V√Ä DI CHUY·ªÇN --- */

        // H√†m cho n√∫t "C√≥" (Hi·ªÉn th·ªã Modal Ch√∫c m·ª´ng)
        btnYes.addEventListener('click', () => {
            mainModal.style.display = 'none'; // ·∫®n Modal c≈©
            successModal.style.display = 'flex'; // Hi·ªÉn th·ªã Modal m·ªõi (v√† ph√°o hoa)
        });
        
        // H√†m ƒë√≥ng Modal Ch√∫c m·ª´ng
        btnCloseSuccess.addEventListener('click', () => {
             successModal.style.display = 'none';
        });

        // H√†m t·∫°o t·ªça ƒë·ªô ng·∫´u nhi√™n cho n√∫t 'Kh√¥ng'
        function moveNoButton() {
            const maxOffset = 250; 
            const newX = (Math.random() - 0.5) * maxOffset * 2; 
            const newY = (Math.random() - 0.5) * maxOffset * 1.5; 
            const newRotate = (Math.random() - 0.5) * 45; 
            const newScale = 0.8 + Math.random() * 0.4; 

            btnNo.style.transform = `translate(${newX}px, ${newY}px) rotateZ(${newRotate}deg) scale(${newScale})`; 
        }

        // S·ª± ki·ªán khi di chu·ªôt v√†o n√∫t "Kh√¥ng"
        btnNo.addEventListener('mouseover', moveNoButton);

        // N√∫t "Kh√¥ng" (n·∫øu c·ªë b·∫•m ƒë∆∞·ª£c)
        btnNo.addEventListener('click', () => {
            alert('Haha! Anh kh√¥ng cho em b·∫•m "Kh√¥ng" ƒë√¢u! Em ch·ªâ c√≥ th·ªÉ ch·ªçn "C√≥" th√¥i! üòâ');
            btnNo.style.transform = `translate(0, 0) rotateZ(0deg) scale(1)`; 
        });
        
    </script>

</body>
</html>